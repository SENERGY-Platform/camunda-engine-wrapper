{
    "swagger": "2.0",
    "info": {
        "title": "Process-Engine-Wrapper",
        "contact": {},
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "0.1"
    },
    "basePath": "/",
    "paths": {
        "/process-deployments": {
            "put": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "deploy process, meant for internal use by the process-deployment service, only admins may access this endpoint",
                "tags": [
                    "deployment"
                ],
                "summary": "deploy process",
                "parameters": [
                    {
                        "description": "deployment",
                        "name": "message",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.DeploymentMessage"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/process-deployments/{userid}/{deplid}": {
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "delete deployment, meant for internal use by the process-deployment service, only admins may access this endpoint",
                "tags": [
                    "deployment"
                ],
                "summary": "delete deployment",
                "parameters": [
                    {
                        "type": "string",
                        "description": "deployment id",
                        "name": "deplid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "user id",
                        "name": "userid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/deployments": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "list deployments",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deployment"
                ],
                "summary": "list deployments",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.ExtendedDeployment"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/deployments/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "get process deployment by id",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deployment"
                ],
                "summary": "get deployment",
                "parameters": [
                    {
                        "type": "string",
                        "description": "deployment id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.CamundaDeployment"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/deployments/{id}/definition": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "get deployment process-definition",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deployment",
                    "process-definition"
                ],
                "summary": "get deployment process-definition",
                "parameters": [
                    {
                        "type": "string",
                        "description": "deployment id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.ProcessDefinition"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/deployments/{id}/exists": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "deployment exists",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deployment"
                ],
                "summary": "deployment exists",
                "parameters": [
                    {
                        "type": "string",
                        "description": "deployment id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/deployments/{id}/instances": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "get deployment process-instances",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deployment",
                    "process-instance"
                ],
                "summary": "get deployment process-instances",
                "parameters": [
                    {
                        "type": "string",
                        "description": "deployment id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.ProcessInstance"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/deployments/{id}/parameter": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "get deployment start parameter",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "start",
                    "deployment"
                ],
                "summary": "get deployment parameter",
                "parameters": [
                    {
                        "type": "string",
                        "description": "deployment id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.VariableMap"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/deployments/{id}/start": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "start deployment by id",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "start",
                    "deployment"
                ],
                "summary": "start deployment",
                "parameters": [
                    {
                        "type": "string",
                        "description": "deployment id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.ProcessInstance"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/event-trigger": {
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "trigger event",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "event"
                ],
                "summary": "trigger event",
                "parameters": [
                    {
                        "description": "ref https://docs.camunda.org/rest/camunda-bpm-platform/7.23-SNAPSHOT/#tag/Message/operation/deliverMessage",
                        "name": "message",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/api.EventTriggerMessage"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/history/process-instances": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "list historic process-instances",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "process-instance"
                ],
                "summary": "list historic process-instances",
                "parameters": [
                    {
                        "type": "boolean",
                        "description": "if set to true, wraps the result in an objet with the result {total:0, data:[]}",
                        "name": "with_total",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.HistoricProcessInstance"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/history/process-instances/{id}": {
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "delete historic process-instance",
                "tags": [
                    "process-instance"
                ],
                "summary": "delete historic process-instance",
                "parameters": [
                    {
                        "type": "string",
                        "description": "process-instance id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/process-definitions/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "get process-definition",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "process-definition"
                ],
                "summary": "get process-definition",
                "parameters": [
                    {
                        "type": "string",
                        "description": "process-definition id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.ProcessDefinition"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/process-definitions/{id}/diagram": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "get process-definition diagram",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "process-definition"
                ],
                "summary": "get process-definition diagram",
                "parameters": [
                    {
                        "type": "string",
                        "description": "process-definition id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/process-definitions/{id}/start": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "start process-definitions by id",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "start",
                    "process-definitions"
                ],
                "summary": "start process-definitions",
                "parameters": [
                    {
                        "type": "string",
                        "description": "process-definitions id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/process-definitions/{id}/start/id": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "start process-definitions and get started process-instance",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "start",
                    "process-definitions"
                ],
                "summary": "start process-definitions and get instance",
                "parameters": [
                    {
                        "type": "string",
                        "description": "process-definitions id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.ProcessInstance"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/process-instances": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "list process-instances",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "process-instance"
                ],
                "summary": "list process-instances",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.ProcessInstance"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "delete multiple historic process-instances",
                "tags": [
                    "process-instance"
                ],
                "summary": "delete multiple historic process-instances",
                "parameters": [
                    {
                        "description": "ids",
                        "name": "message",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/process-instances/count": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "process-instance count",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "process-instance"
                ],
                "summary": "process-instance count",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/process-instances/{id}": {
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "delete process-instance",
                "tags": [
                    "process-instance"
                ],
                "summary": "delete process-instance",
                "parameters": [
                    {
                        "type": "string",
                        "description": "process-instance id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/v2/process-instances/{id}/variables/{variable_name}": {
            "put": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "set process-instance variable",
                "tags": [
                    "process-instance"
                ],
                "summary": "set process-instance variable",
                "parameters": [
                    {
                        "type": "string",
                        "description": "process-instance id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "variable_name",
                        "name": "variable_name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "value",
                        "name": "message",
                        "in": "body",
                        "required": true,
                        "schema": {}
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        }
    },
    "definitions": {
        "api.EventTriggerMessage": {
            "type": "object",
            "properties": {
                "messageName": {
                    "type": "string"
                },
                "processVariablesLocal": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "object",
                        "properties": {
                            "type": {
                                "type": "string"
                            },
                            "value": {}
                        }
                    }
                },
                "resultEnabled": {
                    "type": "boolean"
                },
                "tenantId": {
                    "type": "string"
                }
            }
        },
        "model.CamundaDeployment": {
            "type": "object",
            "properties": {
                "deploymentTime": {},
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "source": {
                    "type": "string"
                },
                "tenantId": {
                    "type": "string"
                }
            }
        },
        "model.DeploymentMessage": {
            "type": "object",
            "properties": {
                "diagram": {
                    "$ref": "#/definitions/model.Diagram"
                },
                "id": {
                    "type": "string"
                },
                "incident_handling": {
                    "$ref": "#/definitions/model.IncidentHandling"
                },
                "name": {
                    "type": "string"
                },
                "source": {
                    "description": "optional",
                    "type": "string"
                },
                "user_id": {
                    "type": "string"
                }
            }
        },
        "model.Diagram": {
            "type": "object",
            "properties": {
                "svg": {
                    "type": "string"
                },
                "xml_deployed": {
                    "type": "string"
                }
            }
        },
        "model.ExtendedDeployment": {
            "type": "object",
            "properties": {
                "definition_id": {
                    "type": "string"
                },
                "deploymentTime": {},
                "diagram": {
                    "type": "string"
                },
                "error": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "source": {
                    "type": "string"
                },
                "tenantId": {
                    "type": "string"
                }
            }
        },
        "model.HistoricProcessInstance": {
            "type": "object",
            "properties": {
                "businessKey": {
                    "type": "string"
                },
                "caseInstanceId": {
                    "type": "string"
                },
                "deleteReason": {
                    "type": "string"
                },
                "durationInMillis": {
                    "type": "number"
                },
                "endTime": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "processDefinitionId": {
                    "type": "string"
                },
                "processDefinitionKey": {
                    "type": "string"
                },
                "processDefinitionName": {
                    "type": "string"
                },
                "processDefinitionVersion": {
                    "type": "number"
                },
                "startActivityId": {
                    "type": "string"
                },
                "startTime": {
                    "type": "string"
                },
                "startUserId": {
                    "type": "string"
                },
                "state": {
                    "type": "string"
                },
                "superCaseInstanceId": {
                    "type": "string"
                },
                "superProcessInstanceId": {
                    "type": "string"
                },
                "tenantId": {
                    "type": "string"
                }
            }
        },
        "model.IncidentHandling": {
            "type": "object",
            "properties": {
                "notify": {
                    "type": "boolean"
                },
                "restart": {
                    "type": "boolean"
                },
                "restart_is_valid_option": {
                    "type": "boolean"
                }
            }
        },
        "model.ProcessDefinition": {
            "type": "object",
            "properties": {
                "Version": {
                    "type": "integer"
                },
                "category": {
                    "type": "string"
                },
                "deploymentId": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "diagram": {
                    "type": "string"
                },
                "historyTimeToLive": {
                    "type": "integer"
                },
                "id": {
                    "type": "string"
                },
                "key": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "resource": {
                    "type": "string"
                },
                "suspended": {
                    "type": "boolean"
                },
                "tenantId": {
                    "type": "string"
                },
                "versionTag": {
                    "type": "string"
                }
            }
        },
        "model.ProcessInstance": {
            "type": "object",
            "properties": {
                "businessKey": {
                    "type": "string"
                },
                "caseInstanceId": {
                    "type": "string"
                },
                "definitionId": {
                    "type": "string"
                },
                "ended": {
                    "type": "boolean"
                },
                "id": {
                    "type": "string"
                },
                "suspended": {
                    "type": "boolean"
                },
                "tenantId": {
                    "type": "string"
                }
            }
        },
        "model.Variable": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string"
                },
                "value": {},
                "valueInfo": {}
            }
        },
        "model.VariableMap": {
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/model.Variable"
            }
        }
    },
    "securityDefinitions": {
        "Bearer": {
            "description": "Type \"Bearer\" followed by a space and JWT token.",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}